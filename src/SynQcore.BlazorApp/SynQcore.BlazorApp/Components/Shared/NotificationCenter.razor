@* Notification Center - HTML Puro *@
@using SynQcore.BlazorApp.Services.StateManagement
@inject StateManager StateManager

<div>
    <button @onclick="ToggleNotifications">
        Notificações (@unreadCount)
    </button>

    @if (isOpen)
    {
        <div @onclick:stopPropagation="true">
            <div>
                <h3>Notificações</h3>
                <button @onclick="CloseNotifications">X</button>
            </div>

            @if (notifications == null || !notifications.Any())
            {
                <p>Nenhuma notificação</p>
            }
            else
            {
                <ul>
                    @foreach (var notification in notifications)
                    {
                        <li>
                            <strong>@notification.Title</strong>
                            <p>@notification.Message</p>
                            <small>@notification.TimeAgo</small>
                        </li>
                    }
                </ul>
            }
        </div>
    }
</div>

@code {
    private bool isOpen = false;
    private int unreadCount = 0;
    private List<NotificationItem>? notifications;

    private void ToggleNotifications()
    {
        isOpen = !isOpen;
        if (isOpen)
        {
            LoadNotifications();
        }
    }

    private void CloseNotifications()
    {
        isOpen = false;
    }

    private void LoadNotifications()
    {
        // Implementar carregamento de notificações
        notifications = new List<NotificationItem>();
    }

    public class NotificationItem
    {
        public string Title { get; set; } = "";
        public string Message { get; set; } = "";
        public string TimeAgo { get; set; } = "";
        public bool IsRead { get; set; }
    }
}
