@page "/profile"
@rendermode InteractiveServer
@using SynQcore.BlazorApp.Services.StateManagement
@inject StateManager StateManager
@inject NavigationManager Navigation

<PageTitle>Perfil - SynQcore</PageTitle>

<h1>Perfil do Usuário</h1>

@if (!StateManager.User.IsAuthenticated)
{
    <p>Você precisa estar autenticado.</p>
    <button @onclick='@(() => Navigation.NavigateTo("/login"))'>Fazer Login</button>
}
else
{
    <section>
        <h2>Informações Pessoais</h2>
        <dl>
            <dt>Nome:</dt>
            <dd>@StateManager.User.Nome</dd>
            
            <dt>Email:</dt>
            <dd>@StateManager.User.Email</dd>
            
            <dt>Cargo:</dt>
            <dd>@StateManager.User.Cargo</dd>
        </dl>
    </section>

    <section>
        <h2>Ações</h2>
        <button @onclick='@(() => Navigation.NavigateTo("/profile/edit"))'>Editar Perfil</button>
    </section>
}
